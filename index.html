<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="utf-8">
  <title>Koepreppaus-generaattori</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f3f4f6;
      margin: 0;
      padding: 0;
    }
    .page {
      max-width: 960px;
      margin: 0 auto;
      padding: 24px 16px 40px;
    }
    h1 {
      text-align: center;
      margin-bottom: 24px;
    }
    .card {
      background: #ffffff;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(15, 23, 42, 0.08);
      margin-bottom: 20px;
    }
    label {
      font-weight: 600;
      display: block;
      margin-bottom: 4px;
    }
    input[type="text"],
    input[type="number"] {
      width: 100%;
      box-sizing: border-box;
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid #cbd5f5;
      margin-bottom: 12px;
      font-size: 14px;
    }
    input[type="file"] {
      margin-top: 4px;
      margin-bottom: 12px;
    }
    .help-text {
      font-size: 12px;
      color: #6b7280;
      margin-bottom: 8px;
    }
    .buttons {
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    button {
      border-radius: 999px;
      border: none;
      padding: 8px 16px;
      font-size: 14px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    button.primary {
      background: #2563eb;
      color: white;
    }
    button.secondary {
      background: #e5e7eb;
      color: #111827;
    }
    button:disabled {
      opacity: 0.6;
      cursor: default;
    }
    #fileList {
      font-size: 13px;
      color: #374151;
      margin-bottom: 8px;
      white-space: pre-line;
    }
    #status {
      font-size: 13px;
      color: #6b7280;
      margin-top: 4px;
      white-space: pre-line;
    }
    #outputCard {
      display: none;
    }
    #output {
      font-size: 15px;
      line-height: 1.5;
    }
    #output h2, #output h3 {
      margin-top: 16px;
      margin-bottom: 8px;
    }
    #output p {
      margin-top: 4px;
      margin-bottom: 6px;
    }
    #output ul, #output ol {
      padding-left: 20px;
      margin-top: 4px;
      margin-bottom: 8px;
    }
  </style>
</head>
<body>
  <div class="page">
    <h1>Koepreppaus-generaattori</h1>

    <div class="card">
      <form id="prepForm" enctype="multipart/form-data">
        <label for="subject">Oppiaine</label>
        <input type="text" id="subject" placeholder="Esim. matematiikka, biologia..." />

        <label for="grade">Luokka-aste</label>
        <input type="text" id="grade" placeholder="Esim. 7. lk, 8. lk" />

        <label for="goal">Tavoitenumero</label>
        <input type="number" id="goal" min="4" max="10" placeholder="Esim. 7, 8, 9..." />

        <label for="images">Lataa koealueen kuvat</label>
        <div class="help-text">
          Voit valita useita kuvia kerralla (oppikirjan sivut, monisteet jne.).<br>
          Pid채 kuvat mieluiten ruutukaappaus- tai mobiililaatuisina (ei valtavia RAW-tiedostoja).
        </div>
        <input type="file" id="images" name="images" accept="image/*" multiple />
        <div id="fileList"></div>

        <div class="buttons">
          <button type="submit" class="primary" id="generateBtn">Luo preppaus</button>
          <button type="button" class="secondary" id="clearBtn">Tyhjenn채 lomake</button>
        </div>
        <div id="status"></div>
      </form>
    </div>

    <div class="card" id="outputCard">
      <div style="display:flex; justify-content:space-between; align-items:center; gap:8px; margin-bottom:8px;">
        <h2 style="margin:0;">Preppaus</h2>
        <div class="buttons" style="margin-top:0;">
          <button type="button" class="secondary" id="downloadPdf">Lataa PDF</button>
        </div>
      </div>
      <div id="output"></div>
    </div>
  </div>

  <!-- html2pdf kirjasto PDF:채채 varten (ilmainen) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
          integrity="sha512-YcsIPGdhP6N8w7LZqGD6w3Jz5E5zKFA0v3nS+Z8i2Cssk3P4Akf7JFaZ4X0xwwL+35t6vKdzpKukUQxC7V7cZA=="
          crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="app.js"></script>
</body>
</html>
